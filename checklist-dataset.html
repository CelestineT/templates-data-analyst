<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checklist Dataset Exploitable - Templates Data Analyst</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .back-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: white;
            color: #667eea;
            padding: 10px 20px;
            border-radius: 20px;
            text-decoration: none;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s;
            z-index: 1000;
        }
        
        .back-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .header p {
            opacity: 0.9;
            font-size: 14px;
        }
        
        .content {
            padding: 30px;
        }
        
        .dataset-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        
        .dataset-info input {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .dataset-info input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .dimension {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            transition: all 0.3s;
        }
        
        .dimension:hover {
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .dimension-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .dimension-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
        }
        
        .status-selector {
            display: flex;
            gap: 10px;
        }
        
        .status-btn {
            padding: 8px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 20px;
            background: white;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }
        
        .status-btn:hover {
            transform: translateY(-2px);
        }
        
        .status-btn.active.ok {
            background: #4caf50;
            color: white;
            border-color: #4caf50;
        }
        
        .status-btn.active.warning {
            background: #ff9800;
            color: white;
            border-color: #ff9800;
        }
        
        .status-btn.active.critical {
            background: #f44336;
            color: white;
            border-color: #f44336;
        }
        
        .questions {
            list-style: none;
            padding-left: 0;
        }
        
        .questions li {
            padding: 8px 0;
            color: #666;
            font-size: 14px;
        }
        
        .questions li:before {
            content: "‚Ä¢ ";
            color: #667eea;
            font-weight: bold;
            margin-right: 8px;
        }
        
        .score-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            margin-top: 30px;
        }
        
        .score-value {
            font-size: 48px;
            font-weight: bold;
            margin: 20px 0;
        }
        
        .decision {
            background: white;
            color: #333;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            font-size: 18px;
            font-weight: bold;
        }
        
        .decision.go {
            background: #4caf50;
            color: white;
        }
        
        .decision.caution {
            background: #ff9800;
            color: white;
        }
        
        .decision.stop {
            background: #f44336;
            color: white;
        }
        
        .export-btn {
            background: white;
            color: #667eea;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s;
        }
        
        .export-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        @media print {
            .back-btn, .export-btn, .status-selector {
                display: none;
            }
            
            body {
                background: white;
                padding: 20px;
            }
            
            .container {
                box-shadow: none;
            }
        }

        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        .legend-box {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-btn">‚Üê Retour aux templates</a>
    
    <div class="container">
        <div class="header">
            <h1>üìã Checklist : Dataset exploitable ou pas ?</h1>
            <p>√âvaluez la qualit√© de vos donn√©es en 6 dimensions avant toute analyse</p>
        </div>
        
        <div class="content">
            <div class="dataset-info">
                <input type="text" id="datasetName" placeholder="Nom du dataset (ex: Transactions Q4 2024)">
                <input type="text" id="datasetSource" placeholder="Source des donn√©es (ex: Base PostgreSQL, Export Salesforce)">
                <input type="date" id="evaluationDate" value="">
            </div>

            <div class="legend">
                <div class="legend-item">
                    <div class="legend-box" style="background: #4caf50;"></div>
                    <span>‚úÖ OK - Exploitable</span>
                </div>
                <div class="legend-item">
                    <div class="legend-box" style="background: #ff9800;"></div>
                    <span>‚ö†Ô∏è √Ä investiguer</span>
                </div>
                <div class="legend-item">
                    <div class="legend-box" style="background: #f44336;"></div>
                    <span>‚ùå Bloquant</span>
                </div>
            </div>
            
            <div id="dimensions"></div>
            
            <div class="score-section">
                <h2>R√©sultat de l'√©valuation</h2>
                <div class="score-value" id="scoreValue">0/6 ‚úÖ</div>
                <div class="decision" id="decision">S√©lectionnez les statuts ci-dessus</div>
                <button class="export-btn" onclick="exportToPDF()">üìÑ G√©n√©rer un rapport PDF</button>
            </div>
        </div>
    </div>

    <script>
        const dimensions = [
            {
                title: "COMPL√âTUDE",
                questions: [
                    "Taux de valeurs manquantes < 5% ?",
                    "Colonnes essentielles remplies ?",
                    "P√©riode compl√®te couverte ?"
                ]
            },
            {
                title: "FRA√éCHEUR",
                questions: [
                    "Derni√®re mise √† jour < 24h ?",
                    "Donn√©es en temps r√©el n√©cessaires ?",
                    "Pas de gap temporel ?"
                ]
            },
            {
                title: "GRANULARIT√â",
                questions: [
                    "Niveau de d√©tail suffisant ?",
                    "Agr√©gation adapt√©e ?",
                    "Possibilit√© de drill-down ?"
                ]
            },
            {
                title: "COH√âRENCE M√âTIER",
                questions: [
                    "D√©finitions KPIs align√©es ?",
                    "Unit√©s uniformes ?",
                    "Logique business respect√©e ?"
                ]
            },
            {
                title: "QUALIT√â TECHNIQUE",
                questions: [
                    "Doublons < 1% ?",
                    "Formats standardis√©s ?",
                    "Typage correct des colonnes ?"
                ]
            },
            {
                title: "VOLUM√âTRIE",
                questions: [
                    "√âchantillon repr√©sentatif ?",
                    "N > 1000 observations ?",
                    "Segments tous couverts ?"
                ]
            }
        ];

        let selections = {};

        function renderDimensions() {
            const container = document.getElementById('dimensions');
            container.innerHTML = dimensions.map((dim, index) => `
                <div class="dimension">
                    <div class="dimension-header">
                        <div class="dimension-title">${dim.title}</div>
                        <div class="status-selector">
                            <button class="status-btn" onclick="selectStatus(${index}, 'ok')">‚úÖ OK</button>
                            <button class="status-btn" onclick="selectStatus(${index}, 'warning')">‚ö†Ô∏è Attention</button>
                            <button class="status-btn" onclick="selectStatus(${index}, 'critical')">‚ùå Bloquant</button>
                        </div>
                    </div>
                    <ul class="questions">
                        ${dim.questions.map(q => `<li>${q}</li>`).join('')}
                    </ul>
                </div>
            `).join('');
        }

        function selectStatus(dimensionIndex, status) {
            selections[dimensionIndex] = status;
            
            const dimension = document.querySelectorAll('.dimension')[dimensionIndex];
            const buttons = dimension.querySelectorAll('.status-btn');
            
            buttons.forEach(btn => btn.classList.remove('active', 'ok', 'warning', 'critical'));
            
            const statusMap = {'ok': 0, 'warning': 1, 'critical': 2};
            buttons[statusMap[status]].classList.add('active', status);
            
            updateScore();
        }

        function updateScore() {
            const okCount = Object.values(selections).filter(s => s === 'ok').length;
            const scoreValue = document.getElementById('scoreValue');
            const decision = document.getElementById('decision');
            
            scoreValue.textContent = `${okCount}/6 ‚úÖ`;
            
            if (okCount >= 4) {
                decision.textContent = "üü¢ GO - Dataset exploitable";
                decision.className = "decision go";
            } else if (okCount >= 2) {
                decision.textContent = "üü° ATTENTION - Analyser avec pr√©caution + disclaimers";
                decision.className = "decision caution";
            } else {
                decision.textContent = "üî¥ STOP - Nettoyer ou chercher d'autres sources";
                decision.className = "decision stop";
            }
        }

        function exportData() {
            const datasetName = document.getElementById('datasetName').value || 'Dataset';
            const datasetSource = document.getElementById('datasetSource').value || 'Non sp√©cifi√©';
            const evaluationDate = document.getElementById('evaluationDate').value || new Date().toISOString().split('T')[0];
            
            let csv = "Checklist Dataset Exploitable\n\n";
            csv += `Dataset,${datasetName}\n`;
            csv += `Source,${datasetSource}\n`;
            csv += `Date d'√©valuation,${evaluationDate}\n\n`;
            csv += "Dimension,Statut,Questions\n";
            
            dimensions.forEach((dim, index) => {
                const status = selections[index] || 'Non √©valu√©';
                const statusText = status === 'ok' ? 'OK' : status === 'warning' ? 'Attention' : status === 'critical' ? 'Bloquant' : 'Non √©valu√©';
                csv += `${dim.title},${statusText},"${dim.questions.join('; ')}"\n`;
            });
            
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `checklist_dataset_${datasetName.replace(/\s+/g, '_')}.csv`;
            a.click();
        }

        document.getElementById('evaluationDate').value = new Date().toISOString().split('T')[0];
        renderDimensions();
    </script>
</body>
</html>